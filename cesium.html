<!DOCTYPE html>
<html>
	<head>
		<title>Cesium</title>
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no" charset="UTF-8"/>
		<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
		<link href='https://fonts.googleapis.com/css?family=Signika+Negative:400,700,300,600' rel='stylesheet' type='text/css'>

		<link rel="stylesheet" href="Cesium/Widgets/widgets.css" />
		<script type="text/javascript" src="Cesium/Cesium.js"></script>
		<script type="text/javascript">
			function initialize() {
				var videoElement = document.getElementById('trailer');
				var viewer = new Cesium.Viewer('viewerDiv', {
					imageryProvider: new Cesium.WebMapTileServiceImageryProvider({
						url : 'http://wxs.ign.fr/j5tcdln4ya4xggpdu4j0f0cn/geoportail/wmts',
						layer : 'ORTHOIMAGERY.ORTHOPHOTOS',
						style : 'normal',
						format : 'image/jpeg',
						tileMatrixSetID : 'PM',
						tilingScheme: new Cesium.WebMercatorTilingScheme(),
						tileMatrixLabels: ["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"]
					}),
					terrainProvider: new Cesium.CesiumTerrainProvider({
						url : '//assets.agi.com/stk-terrain/world'
					}),
					baseLayerPicker : false
				});
				var sphere = viewer.entities.add({
					position : Cesium.Cartesian3.fromDegrees(2, 42, 1000),
					ellipsoid : {
						radii : new Cesium.Cartesian3(10000, 10000, 10000),
						material : videoElement
					}
				});
				var isRepeating = true;
				sphere.ellipsoid.material.repeat = new Cesium.CallbackProperty(function(time, result) {
					if (!Cesium.defined(result)) {
						result = new Cesium.Cartesian2();
					}
					if (isRepeating) {
						result.x = 4;
						result.y = 4;
					} else {
						result.x = 1;
						result.y = 1;
					}
					return result;
				}, false);
				viewer.scene.globe.enableLighting = true;
			}
		</script>
	</head>

	<body onload="initialize()">
		<section>
			<div id="viewerDiv"></div>
		</section>
		<video id="trailer" style="display: none;" autoplay="" loop="" crossorigin="" controls="">
			<source src="http://cesiumjs.org/videos/Sandcastle/big-buck-bunny_trailer.webm" type="video/webm">
			<source src="http://cesiumjs.org/videos/Sandcastle/big-buck-bunny_trailer.mp4" type="video/mp4">
			<source src="http://cesiumjs.org/videos/Sandcastle/big-buck-bunny_trailer.mov" type="video/quicktime">
			Your browser does not support the <code>video</code> element.
		</video>
	</body>
</html>