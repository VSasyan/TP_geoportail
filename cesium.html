<!DOCTYPE html>
<html>
	<head>
		<title>Cesium</title>
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no" charset="UTF-8"/>
		<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
		<link href='https://fonts.googleapis.com/css?family=Signika+Negative:400,700,300,600' rel='stylesheet' type='text/css'>

		<link rel="stylesheet" href="Cesium/Widgets/widgets.css" />
		<script type="text/javascript" src="Cesium/Cesium.js"></script>
		<script type="text/javascript">
			function initialize() {
				var videoElement = document.getElementById('trailer');
				var viewer = new Cesium.Viewer('viewerDiv', {
					imageryProvider: new Cesium.WebMapTileServiceImageryProvider({
						url : 'http://wxs.ign.fr/j5tcdln4ya4xggpdu4j0f0cn/geoportail/wmts',
						layer : 'ORTHOIMAGERY.ORTHOPHOTOS',
						style : 'normal',
						format : 'image/jpeg',
						tileMatrixSetID : 'PM',
						tilingScheme: new Cesium.WebMercatorTilingScheme(),
						tileMatrixLabels: ["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"]
					}),
					/*terrainProvider: new Cesium.CesiumTerrainProvider({
						url : '//assets.agi.com/stk-terrain/world'
					}),*/
					//baseLayerPicker : false
				});

				var taille = 2;
				var r = 3;
				var repeat = new Cesium.CallbackProperty(function(time, result) {
					result.x = r;
					result.y = r;
					return result;
				}, false);
				
				/*var sphere1 = viewer.entities.add({
					position : Cesium.Cartesian3.fromDegrees(2.587641749999989, 48.84106170000053, taille),
					ellipsoid : {
						radii : new Cesium.Cartesian3(taille, taille, taille),
						material : videoElement
					}
				});*/

				/*var sphere2 = viewer.entities.add({
					position : Cesium.Cartesian3.fromDegrees(2.588641749999989, 48.84206170000053, taille),
					ellipsoid : {
						radii : new Cesium.Cartesian3(taille, taille, taille),
						material : videoElement
					}
				});*/

				var sphere3 = viewer.entities.add({
					position : Cesium.Cartesian3.fromDegrees(2.587641749999989, 48.84186170000053, taille),
					ellipsoid : {
						radii : new Cesium.Cartesian3(taille, taille, taille),
						material : videoElement
					}
				});

				//sphere1.ellipsoid.material.repeat = repeat;
				//sphere2.ellipsoid.material.repeat = repeat;
				sphere3.ellipsoid.material.repeat = repeat;

				viewer.trackedEntity = sphere3;
			}
		</script>
	</head>

	<body onload="initialize()">
		<section>
			<div id="viewerDiv"></div>
		</section>
		<video id="trailer" style="display: none;" autoplay="" loop="" crossorigin="" controls="">
			<source src="http://cesiumjs.org/videos/Sandcastle/big-buck-bunny_trailer.webm" type="video/webm">
			<source src="http://cesiumjs.org/videos/Sandcastle/big-buck-bunny_trailer.mp4" type="video/mp4">
			<source src="http://cesiumjs.org/videos/Sandcastle/big-buck-bunny_trailer.mov" type="video/quicktime">
			Your browser does not support the <code>video</code> element.
		</video>
	</body>
</html>